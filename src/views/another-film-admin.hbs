<section class="review_list_admin">
  <div class="review_list_admin_container">
    <div class="review_list_container">
      <div class="review_list_admin_top">
        <div class="review_list_admin_top_description">
          <span>Danh sách các Review</span>
        </div>
        <div class="review_list_admin_top_btn">
          <a class="btn btn-primary" href="/post" role="button">Thêm bài Review</a>
        </div>
      </div>
      <div class="review_list_admin_center">
        <table>
          <tr>
            <th>ID</th>
            <th>Tên bài Review</th>
            <th>Đánh giá</th>
            <th>Xem</th>
            <th>Xóa</th>
          </tr>
          {{#each review}}
          <tr id={{this.id}}>
            <td>{{this.id}}</td>
            <td>{{this.name}}</td>
            <td>
              {{this.rate}}/5
            </td>
            <td>
              <button class="Edit" type="button" onclick="location.href='/film-review/{{this.id}}';">Xem</button>
            </td>
            <td>
              <button type="button" class="Delete" data-bs-toggle="modal" data-bs-target="#deleteModal"
                onclick="deleteReview(this)" value={{this.id}}>Xóa</button>
            </td>
          </tr>
          {{/each}}
        </table>
      </div>
      <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Xác nhận xóa</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Bạn có chắc chắn xóa bài này?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy bỏ</button>
              <button type="submit" class="btn btn-danger" data-bs-dismiss="modal" id="delete-hard">Đồng ý</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<script>
  function deleteReview(btn) {
    let deletepost =
      document.getElementById("delete-hard"); deletepost.onclick = () => {
        const url
          = "/admin/review-another-movie/" + btn.value; $.post(url, function (review) {
            alert(review); document.getElementById(btn.value).remove();
          });
      }
  }
</script>